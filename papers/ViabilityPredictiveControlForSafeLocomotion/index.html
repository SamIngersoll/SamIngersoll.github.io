<html lang="en">
<head>
  <title>Viability and Predictive Control for Safe Locomotion: Notes</title>
  <meta charset="utf-8">
  <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="../style.css">
  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
</head>
<body>
<div class="text">
  <h1>Viability and Predictive Control for Safe Locomotion: Notes</h1>
  <i class="bib">P. Weiber. (2008). Viability and Predictive Control for Safe Locomotion. 2008 IEEE/RSJ International Conference on Intelligent Robots and Systems.</i>
  <h3>What problem does the paper solve and why is this interesting?</h3>
  Weiber addresses the issue of viability in legged and wheeled robots through the formulation of an MPC control law which includes a term in its cost function that encodes for viability. Weiber's derivation allows for an MPC controller that selects only viable control routes, but only for systems with linear dynamics. 
  <br><br>
  Viability is described as the complimentary set to the union of the set containing fail states and the set containing states that will lead to failure. 
  <h3>How do they solve this problem?</h3>
  Weiber first formulates the dynamics of the system, arguing that a point mass approximation is better than a rigid body approximation because the rigid body is more complex, but still does not give any useful information about nonholonomic couplings, which convey key information about how the configuration of the robot effect its orientation (Weiber gives the example of a cat rotating its limbs to re-orient itself while it falls). A multi-body model would be necessary to fully model these couplings.
  <br><br>
  Weiber goes on to show that for viable motion, the center of mass \( x_g \) must lie within the convex hull of the contact points \( Z(t) \) at time \(t\) during the beginning and end of every locomotion.
  \[ x_G - \frac{h_G}{g}\ddot{x}_G \in Z(t) \]
  Where the left half of the equation is the center of pressure or Zero Moment Point. This formulation is called the Linearized Inverted Pendulum model or the Cart Table model.
  <br><br>
  Weiber then illustrates that when the center of mass is not in this polygon at time \(t\), the center of mass diverges at greater than exponential rates. Given that \(x_G\) diverges at greater than exponential rates, so must \(\dot{x}_g\), \(\ddot{x}_G\), \(\dddot{x}_G\), etc... 
  <br><br>
  Integrals of the norms of the derivatives of these values are infinite for diverging motions and increase greater than exponentially in finite time.
  \[ \int_{t_k}^{+\infty} \|x_G^{(n)}\|^2 dt \]
  allowing to exact viable feedback for infinite integrals and approximate viable feedback for finite integrals. This allows for an MPC formulation that inherently selects for viable motion in the presence of "strong perturbations" over prediction horizons as small as \( 1s \) looking only one step ahead. 
  <h3>Future work and questions</h3>
  The same MPC formulation could be applied to wheeled robots and help guide the robot away from tipping. When compared to current brute force methods of viability space sampling, MPC is faster and handles more complex models with lighter computational load.
  <br><br>
  This formulation is made under the assumption that the ground is flat and that the \(y\) value of the center of mass stays at a constant height. How does it peform when these assumptions are violated? Can it be easily generalized to cases where these assumptions cannot be made?
  <br><br>
      October 2, 2017
      <br>
      Sam Ingersoll
  </div>

</body>

